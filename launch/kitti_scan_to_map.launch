<launch>
  <!--
    Launch scan_to_map node for KITTI dataset testing.
    Usage (run rosbag separately):
      rosparam set /use_sim_time true
      rosbag play /path/to/kitti.bag --clock
      roslaunch LVI-SAM-Easyused kitti_scan_to_map.launch

    Notes:
    - This launch assumes the scan_to_map node is built in package 'LVI-SAM-Easyused'.
    - It loads KITTI params from the workspace LVI-SAM-Easyused config; adjust paths if needed.
    - scan_to_map expects upstream nodes to publish 'PROJECT_NAME/lidar/feature/cloud_info' (type lvi_sam::cloud_info).
  -->

  <arg name="use_sim_time" default="true"/>
  <param name="use_sim_time" value="$(arg use_sim_time)"/>

  <!-- Load KITTI-specific LIO/LVI params (adjust path if your workspace differs) -->
  <rosparam file="$(env HOME)/ros_ws/LVI_ws/src/LVI-SAM-Easyused/config/KITTI_lidar.yaml" command="load"/>
  <rosparam file="$(env HOME)/ros_ws/LVI_ws/src/LVI-SAM-Easyused/config/KITTI_camera.yaml" command="load"/>

  <!-- scan_to_map node (compiled into package LVI-SAM-Easyused) -->
  <node name="scan_to_map" pkg="LVI-SAM-Easyused" type="scan_to_map" output="screen" args="">
    <!-- If your PROJECT_NAME differs, remap or set parameter in ParamServer -->
  </node>

</launch>
